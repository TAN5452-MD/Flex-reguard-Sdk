{"code":"import { TrackerConfig } from '../type/index';\r\nimport { createHistoryEvent } from \"../utils/pv\";\r\nexport default class Tracker {\r\n    constructor(options) {\r\n        this.data = Object.assign(this.initDef(), options);\r\n        this.installTracker();\r\n    }\r\n    initDef() {\r\n        window.history['pushState'] = createHistoryEvent('pushState');\r\n        window.history['replaceState'] = createHistoryEvent('replaceState');\r\n        return {\r\n            sdkVersion: TrackerConfig.version,\r\n            historyTracker: false,\r\n            hashTracker: false,\r\n            domTracker: false,\r\n            jsError: false\r\n        };\r\n    }\r\n    //targetKey自定义 例如history-pv\r\n    captureEvents(mouseEventList, targetKey, data) {\r\n        mouseEventList.forEach(item => {\r\n            window.addEventListener(item, () => {\r\n                console.log('监听到了');\r\n            });\r\n        });\r\n    }\r\n    installTracker() {\r\n        if (this.data.historyTracker) {\r\n            this.captureEvents(['pushState', 'replaceState', 'popState'], 'history-pv');\r\n        }\r\n    }\r\n}\r\n","references":["F:/lionwork/sdk/src/type/index.ts","F:/lionwork/sdk/src/type/index.ts","F:/lionwork/sdk/src/utils/pv.ts","F:/lionwork/sdk/src/core/test.ts"]}
